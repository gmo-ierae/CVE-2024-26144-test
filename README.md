# CVE-2024-26144-test

Requirement:

- Docker compose
- Deno

```sh
$ deno run --allow-run --allow-net check.ts
```

If you want to test CDN, please set the URL in argument.

(Make sure all caches are purged before run!)

```sh
$ deno run --allow-run --allow-net check.ts https://example.com/
```

# Results

If HTTP response contains `Set-Cookie` header...

| Web server                                | Set-Cookie cached | Cache works (\*1) | Set-Cookie removed from cache |
| ----------------------------------------- | ----------------- | ----------------- | ----------------------------- |
| Nginx + proxy_cache                       | NO                | NO                | -                             |
| Nginx + Passenger                         | YES               | YES               | NO                            |
| Apache + mod_cache                        | YES               | YES               | NO                            |
| HAProxy                                   | YES               | YES               | NO                            |
| Cloudflare (Free plan)                    | NO                | NO                | -                             |
| CloudFront (CachingOptimized)             | NO                | YES               | YES                           |
| CloudFront (UseOriginCacheControlHeaders) | NO                | NO                | -                             |
| Fastly                                    | NO                | NO                | -                             |

\*1 It is the result of whether the cache works for anonymous user. Even if it says `NO`, it may cache for the request with same cookie.
